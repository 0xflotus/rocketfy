{"version":3,"sources":["styles/global.js","components/Header/styles.js","components/Header/index.js","components/Board/styles.js","components/Card/styles.js","components/Board/context.js","components/Card/index.js","components/List/styles.js","components/Last.js","components/List/index.js","components/Board/index.js","services/api.js","App.js","index.js"],"names":["createGlobalStyle","Container","styled","div","Header","props","isDragging","css","Label","span","color","createContext","Card","data","index","listIndex","ref","useRef","move","useContext","BoardContext","useDrag","item","type","id","content","collect","monitor","dragRef","useDrop","accept","hover","draggedListIndex","targetListIndex","draggedIndex","targetIndex","targetSize","current","getBoundingClientRect","targetCenter","bottom","top","draggetTop","getClientOffset","y","dropRef","labels","map","label","key","user","src","alt","done","Last","moveToLastPosition","className","List","title","creatable","size","cards","card","Board","useState","lists","setLists","Provider","value","fromList","toList","from","to","produce","draft","dragged","splice","push","list","App","DndProvider","backend","HTML5Backend","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4514d487.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html , body , #root {\n    height: 100%;\n  }\n\n  body{\n    font: 14px 'Roboto', sans-serif;\n    background: #ecf1f8;\n    color: #333;\n    -webkit-font-smoothing: antialiased !important;\n  }\n\n  ul{\n    list-style: none;\n  }\n  div.app{\n    display: flex;\n    flex-direction: column;\n  }\n`;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 80px;\n  padding:0 30px;\n  background: #7159c1;\n  color: #fff;\n\n  display: flex;\n  align-items: center;\n`;\n","import React from 'react';\nimport { Container } from './styles';\n\nfunction Header() {\n  return (\n    <Container>\n      <h1>Rocketfy</h1>\n    </Container>\n  )\n}\n\nexport default Header;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction:row;\n  padding: 30px 0;\n  height: calc(100vh -80px);\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  position: relative;\n  background: #fff;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  padding: 15px;\n  box-shadow:0 1px 4px 0 rgba(192, 208, 230, 0.8);\n  border-top: 20px solid rgba(230, 246, 245, 0.4);\n  cursor: grab;\n  \n\n  header {\n    position: absolute;\n    top: -22px;\n    left: 15px;\n  }\n\n  p{\n    font-weight: 500;\n    line-height: 20px;\n  }\n  img {\n    width: 24px;\n    height: 24px;\n    border-radius: 2px;\n    margin-top: 5px;\n  }\n  ${props => props.isDragging && css`\n    border:2px dashed rgba(0, 0, 0, 0.2);\n    padding-top: 31px;\n    border-radius: 0;\n    background: transparent;\n    box-shadow: none;\n    cursor: grabbing;\n    p, img , span{\n      opacity: 0;\n    }\n  `}\n`;\n\nexport const Label = styled.span`\n  width: 10px;\n  height: 10px;\n  border-radius: 2px;\n  display: inline-block;\n  background: ${props => props.color};\n`;\n","import {createContext} from 'react';\n\nexport default createContext({});","import React, { useRef, useContext } from 'react';\nimport { Container, Label } from './styles';\nimport { useDrag, useDrop } from 'react-dnd';\n\nimport BoardContext from '../Board/context';\n\nfunction Card({ data, index, listIndex }) {\n\n  const ref = useRef();\n  const { move } = useContext(BoardContext);\n\n  const [{ isDragging }, dragRef] = useDrag({\n    item: { type: 'CARD', id: data.id, index, content: data.content, listIndex },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  })\n\n  const [, dropRef] = useDrop({\n    accept: 'CARD',\n    hover(item, monitor) {\n\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n      const draggedIndex = item.index;\n      const targetIndex = index;\n\n      if (draggedIndex === targetIndex && draggedListIndex === targetListIndex) {\n        return;\n      }\n\n      const targetSize = ref.current.getBoundingClientRect();\n      const targetCenter = (targetSize.bottom - targetSize.top) / 2;\n\n      const draggetOffset = monitor.getClientOffset();\n      const draggetTop = draggetOffset.y - targetSize.top;\n\n      if (draggedIndex < targetIndex && draggetTop < targetCenter && draggedListIndex === targetListIndex) {\n        return;\n      }\n      if (draggedIndex > targetIndex && draggetTop > targetCenter && draggedListIndex === targetListIndex) {\n        return;\n      }\n\n      move(draggedListIndex, targetListIndex, draggedIndex, targetIndex);\n\n      item.index = targetIndex;\n      item.listIndex = targetListIndex;\n\n    }\n  })\n\n  dragRef(dropRef(ref));\n\n  return (\n    <Container ref={ref} isDragging={isDragging}>\n      <header>\n        {data.labels.map(label => <Label key={label} color={label} />)}\n      </header>\n      <p>{data.content}</p>\n      {data.user && <img src={data.user} alt=\"\" />}\n\n    </Container>\n  );\n}\n\nexport default Card;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  padding: 0 15px;\n  min-height: calc(100vh - 182px);\n  flex: 0 0 320px;\n  display: flex;\n  flex-direction: column;\n  flex:1;\n  opacity: ${props => props.done ? 0.6 : 1};\n  \n  & + div {\n    border-left: 1px solid rgba(0, 0, 0, 0.05);\n    \n  }\n\n  header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 42px;\n\n    h2{\n      font-weight: 500;\n      font-size: 16px;\n      padding: 0 10px;\n    }\n\n    button{\n      width: 42px;\n      height: 42px;\n      border-radius: 18px;\n      background: #3b5bfd;\n      border: 0;\n      cursor: pointer;\n    }\n  }\n\n  ul {\n    margin-top: 30px;\n    display: flex;\n    flex-direction: column;\n    flex:1;\n    div.last{\n      flex: 1;\n      background: red;\n      height: 1px;\n      opacity: 0;\n    }\n  }\n\n`;\n","import React, {useContext} from 'react';\nimport BoardContext from './Board/context';\nimport {useDrop} from 'react-dnd';\n\nfunction Last({listIndex}) {\n\n  const {moveToLastPosition} = useContext(BoardContext);\n\n  const [, dropRef] = useDrop({\n    accept: 'CARD',\n    hover(item,monitor){\n      const draggedIndex = item.index;\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n\n      if(draggedListIndex === targetListIndex){\n        return;\n      }\n      moveToLastPosition(draggedListIndex,targetListIndex,draggedIndex);\n      item.listIndex = targetListIndex;\n\n    }\n  })\n\n  return (\n    <div className=\"last\" ref={dropRef}>\n      Last\n    </div>\n  );\n}\n\nexport default Last;","import React from 'react';\nimport { MdAdd } from 'react-icons/md';\nimport Card from '../Card';\nimport { Container } from './styles';\nimport Last from \"../Last\";\n\n\nfunction List({ data, index: listIndex }) {\n  return (\n    <Container done={data.done}>\n      <header>\n        <h2> {data.title} </h2>\n        {data.creatable && (\n          <button type=\"button\">\n            <MdAdd size={24} color=\"#fff\" />\n          </button>\n        )}\n      </header>\n\n      <ul>\n        {data.cards.map((card, index) =>\n          <Card\n            listIndex={listIndex}\n            key={card.id}\n            data={card}\n            index={index}\n          />\n        )}\n       <Last listIndex={listIndex}/>\n      </ul>\n    </Container>\n  );\n}\n\nexport default List;","import React, { useState } from 'react';\nimport { Container } from './styles';\nimport produce from 'immer';\nimport List from '../List';\nimport BoardContext from './context';\nimport { loadLists } from \"../../services/api\";\n\nconst data = loadLists();\nfunction Board() {\n\n  const [lists, setLists] = useState(data);\n\n  function move(fromList, toList, from, to) {\n\n\n    setLists(produce(lists, draft => {\n      const dragged = draft[fromList].cards[from];\n\n      if (dragged == null)\n        return;\n\n      draft[fromList].cards.splice(from, 1);\n      draft[toList].cards.splice(to, 0, dragged);\n\n    }))\n  }\n\n  function moveToLastPosition(fromList, toList, from) {\n    setLists(produce(lists, draft => {\n      const dragged = draft[fromList].cards[from];\n      if (dragged == null)\n        return;\n\n      draft[fromList].cards.splice(from, 1);\n\n      draft[toList].cards.push(dragged);\n    }))\n  }\n\n  return (\n    <BoardContext.Provider value={{ lists, move, moveToLastPosition }} >\n      <Container>\n        {lists.map((list, index) => <List key={list.title} index={index} data={list} />)}\n      </Container>\n    </BoardContext.Provider>\n\n  );\n}\n\nexport default Board;","export function loadLists() {\n  return [\n    { \n      title: 'Tarefas', \n      creatable: true,\n      cards: [\n        {\n          id: 1,\n          content: 'Estudar módulo 01 de NodeJS',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 2,\n          content: 'Criar vídeo para o Youtube ensinando a recriar a interface do Pipefy',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 3,\n          content: 'Estudar módulo 03 de React Native',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 4,\n          content: 'Gravar Aula \"NextJS: Utilizando server-side rendering com ReactJS\"',\n          labels: ['#54e1f7'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 5,\n          content: 'Gravar testes e deploy ReactJS',\n          labels: ['#54e1f7'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n      ]\n    },\n    { \n      title: 'Fazendo', \n      creatable: false,\n      cards: [\n        {\n          id: 6,\n          content: 'Recriando clone do Pipefy',\n          labels: [],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        }\n      ]\n    },\n    { \n      title: 'Pausado', \n      creatable: false,\n      cards: [\n        {\n          id: 7,\n          content: 'Gravar sobre Geolocalização e mapas com React Native',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 8,\n          content: 'Gravar testes e deploy ReactJS',\n          labels: ['#54e1f7'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 9,\n          content: 'Ajustes na biblioteca unform',\n          labels: [],\n        }\n      ]\n    },\n    { \n      title: 'Concluído', \n      creatable: false,\n      done: true,\n      cards: [\n        {\n          id: 10,\n          content: 'Gravar aula sobre deploy e CI com React Native',\n          labels: [],\n        },\n        {\n          id: 12,\n          content: 'Gravar testes e deploy ReactJS',\n          labels: ['#54e1f7'],\n        },\n        {\n          id: 13,\n          content: 'Gravar Aula \"Internacionalização de aplicações Node.js, ReactJS e React Native\"',\n          labels: ['#7159c1'],\n        }\n      ]\n    },\n  ];\n}","import React from 'react';\nimport  { DndProvider} from 'react-dnd';\nimport {  HTML5Backend } from 'react-dnd-html5-backend';\nimport GlobalStyle from './styles/global';\nimport Header from './components/Header';\nimport Board from './components/Board';\nfunction App() {\n  return (\n    <div className=\"app\">\n    <DndProvider backend={HTML5Backend}>\n      <Header />\n      <Board />\n      <GlobalStyle />\n    </DndProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}